{% extends "layout.html" %}

{% block head %}
    {{ block.super }}
{% endblock %}

{% block header %}
    {{ block.super }}
{% endblock %}

{% block content %}
    <div class="container">
        <div class="content">
            <button class="back_btn" onclick="history.back()">다시 메크로 작업하기</button>
            <div class="text_area">
                <p style="font-size: 30px; color: #69b3a2; font-weight: bold;" id="error"></p>
            </div>
            <div class="text_area">
                <p class="title">아이디</p>
                <p id="naverid"></p>
            </div>
            <div class="text_area">
                <p class="title">닉네임</p>
                <p id="nickname"></p>
            </div>
            <div class="text_area">
                <p class="title">카페 이름</p>
                <p id="cafename"></p>
            </div>
            <div class="text_area">
                <p class="title">게시판 이름</p>
                <p id="cafeBname"></p>
            </div>
            <div class="text_area">
                <p class="title">키워드</p>
                <p id="keyword"></p>
            </div>
            <div class="text_area">
                <p class="title">댓글 내용</p>
                <p id="comments"></p>
            </div>
            <div class="text_area_a">
                {% for i in final_hrefs %}
                <a target="_blank" class="title" href="{{ i }}">
                    <span style="margin:6px; display:block;">{{ i }}</span>
                </a>
                <!-- <p class="title">댓글 URL</p> -->
                <p id="hrefs"></p>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

{% block footer %}
    {{ block.super }}

    <script>

        const naverId = '{{ naver_id | safe }}'
        const nickName = '{{ nick_name | safe }}'
        const cafeName = '{{ cafe_name | safe }}'
        const cafeBname = '{{ cafe_B_name | safe }}'
        const keyWord = '{{ keyword | safe }}'
        const comments = "{{ comments | safe }}"
        const final_hrefs = "{{ final_hrefs | safe }}"
        const error_msg = "{{ error_msg | safe }}"


        const id = document.getElementById('naverid')
        const nn = document.querySelector('p#nickname')
        const cn = document.querySelector('p#cafename')
        const cbn = document.getElementById('cafeBname')
        const kw = document.getElementById('keyword')
        const cmt = document.getElementById('comments')
        const hrefs = document.getElementById('hrefs')
        const withoutBrackets = comments.replace(/[\[\]']+/g, '');

        const error = document.getElementById('error')
    
        id.innerText = naverId
        nn.innerText = nickName
        cn.innerText = cafeName
        cbn.innerText = cafeBname
        kw.innerText = keyWord
        cmt.innerText = withoutBrackets

        error.innerText = error_msg

    </script>
{% endblock %}

